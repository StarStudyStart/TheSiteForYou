{% extends 'blogs/backend/base.html' %}
{% block backend_content %}
<div>
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#article" aria-controls="article" role="tab"
                                                  data-toggle="tab">文章</a></li>
        <li role="presentation"><a href="#tag" aria-controls="profile" role="tab"
                                   data-toggle="tab">标签</a>
        </li>
        <li role="presentation"><a href="#category" aria-controls="messages" role="tab"
                                   data-toggle="tab">分类</a>
        </li>
        <li role="presentation"><a href="#settings" aria-controls="settings" role="tab"
                                   data-toggle="tab">设置</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="article">
            <!--标题发布状态 			操作	操作-->
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th colspan="2">标题</th>
                    <th>点赞</th>
                    <th>点踩</th>
                    <th>评论</th>
                    <th>操作</th>
                    <th>操作</th>
                </tr>
                </thead>
                {% for blog in blog_list %}
                <tr>
                    <td colspan="2"><a href="{% url 'blogs:detail' blog.author.username blog.pk %}">{{blog.title}}</a>
                    </td>
                    <td>{{blog.up_num}}</td>
                    <td>{{blog.down_num}}</td>
                    <td>{{blog.comment_num}}</td>
                    <td><a href="{% url 'blogs:edit_blog' blog.pk %}">编辑</a></td>
                    <td><a href="{% url 'blogs:delete_blog' blog.pk %}">删除</a></td>

                </tr>
                {% endfor %}
                <tr>
                    <th class="text-center" colspan="7"><a href="{% url 'blogs:new_blog' %}" class="addlink">增加文章</a>
                    </th>
                </tr>

            </table>
        </div>
        <div role="tabpanel" class="tab-pane" id="tag">
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th colspan="3">标签名</th>
                    <th>操作</th>
                    <th>操作</th>
                </tr>
                </thead>
                {% for tag in tag_list %}
                <tr>
                    <td colspan="3">{{ tag.name}}</td>
                    <td><a href="{% url 'blogs:edit_tag' tag.pk %}">编辑</a></td>
                    <td><a href="{% url 'blogs:delete_tag' tag.pk %}">删除</a></td>

                </tr>
                {% endfor %}
                <tr>
                    <th class="text-center" colspan="5"><a href="{% url 'blogs:new_tag' %}" class="addlink">增加标签</a>
                    </th>
                </tr>

            </table>
        </div>
        <div role="tabpanel" class="tab-pane" id="category">
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th colspan="3">分类名</th>
                    <th>操作</th>
                    <th>操作</th>
                </tr>
                </thead>
                {% for category in category_list %}
                <tr>
                    <td colspan="3">{{ category.name}}</td>
                    <td><a href="{% url 'blogs:edit_category' category.pk %}">编辑</a></td>
                    <td><a href="{% url 'blogs:delete_category' category.pk %}">删除</a></td>

                </tr>
                {% endfor %}
                <tr>
                    <th class="text-center" colspan="5"><a href="{% url 'blogs:new_category' %}"
                                                           class="addlink">增加分类</a></th>
                </tr>

            </table>
        </div>
        <div role="tabpanel" class="tab-pane" id="settings">
            {% block settings %}
            {% endblock %}
        </div>
    </div>
</div>

{% endblock %}